Import('env')
e = env.IMPSharedLibraryEnvironment()

files = [
         'AllNonbondedListScoreState.cpp',
         'AllPairsPairContainer.cpp',
         'AngleRestraint.cpp',
         'AngleTripletScore.cpp',
         'AtomDecorator.cpp',
         'AttributeSingletonScore.cpp',
         'BallMover.cpp',
         'BipartiteNonbondedListScoreState.cpp',
         'BondBondPairScore.cpp',
         'BondDecoratorListScoreState.cpp',
         'BondDecoratorRestraint.cpp',
         'BondPairContainer.cpp',
         'BondSingletonScore.cpp',
         'BoxSweepClosePairsFinder.cpp',
         'BrownianDynamics.cpp',
         'CMMLogOptimizerState.cpp',
         'CloseBipartitePairsScoreState.cpp',
         'ClosePairsFinder.cpp',
         'ClosePairsScoreState.cpp',
         'ClosedCubicSpline.cpp',
         'ConjugateGradients.cpp',
         'ConnectivityRestraint.cpp',
         'ConstantRestraint.cpp',
         'Cosine.cpp',
         'CoverBondSingletonModifier.cpp',
         'DihedralRestraint.cpp',
         'DistancePairScore.cpp',
         'DistanceRestraint.cpp',
         'DistanceToSingletonScore.cpp',
         'FilteredListPairContainer.cpp',
         'FilteredListSingletonContainer.cpp',
         'GravityCenterScoreState.cpp',
         'GridClosePairsFinder.cpp',
         'HierarchyDecorator.cpp',
         'ListPairContainer.cpp',
         'ListSingletonContainer.cpp',
         'Matrix3D.cpp',
         'MaxChangeScoreState.cpp',
         'MaximumChangeScoreState.cpp',
         'MaximumPairScoreRestraint.cpp',
         'MaximumSingletonScoreRestraint.cpp',
         'MinimumPairScoreRestraint.cpp',
         'MinimumSingletonScoreRestraint.cpp',
         'MolecularDynamics.cpp',
         'MolecularHierarchyDecorator.cpp',
         'MonteCarlo.cpp',
         'MoverBase.cpp',
         'NameDecorator.cpp',
         'NonbondedListScoreState.cpp',
         'NonbondedRestraint.cpp',
         'NormalMover.cpp',
         'OpenCubicSpline.cpp',
         'PairChainRestraint.cpp',
         'PairContainer.cpp',
         'PairContainerSet.cpp',
         'PairListRestraint.cpp',
         'PairModifier.cpp',
         'PairsRestraint.cpp',
         'PairsScoreState.cpp',
         'PropagateBondDerivativesSingletonModifier.cpp',
         'QuadraticClosePairsFinder.cpp',
         'ResidueDecorator.cpp',
         'RestraintSet.cpp',
         'Rotation3D.cpp',
         'SingletonContainer.cpp',
         'SingletonContainerSet.cpp',
         'SingletonListRestraint.cpp',
         'SingletonModifier.cpp',
         'SingletonsRestraint.cpp',
         'SingletonsScoreState.cpp',
         'SphereDistancePairScore.cpp',
         'SteepestDescent.cpp',
         'Transformation3D.cpp',
         'TransformedDistancePairScore.cpp',
         'TripletChainRestraint.cpp',
         'TypedPairScore.cpp',
         'VRMLLogOptimizerState.cpp',
         'VelocityScalingOptimizerState.cpp',
         'XYZDecorator.cpp',
         'XYZRDecorator.cpp',
         'bond_decorators.cpp',
         'model_io.cpp',
        ] \
        + SConscript('internal/SConscript')

# Build and install the shared library:
e.IMPSharedLibrary(files, install=True)
