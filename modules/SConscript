Import('env')

# modules must be listed after modules that use them
modules=['cgal',
         'algebra',
         'core',
         'container',
         'atom',
         'display',
         'domino',
         'em',
         'example',
         'misc',
         'saxs',
         'helper',
         'statistics',
         'gsl',
         'modeller',
         'restrainer',
         'em2d',
         'domino2',
         'multifit',
         'bullet']
# always last
modules.append('benchmark')

for p in modules:
    SConscript(p+"/SConscript")

if env.get('localmodules', False):
    import os.path

    dirs= Glob("*/SConscript")

    for m in [os.path.split(str(d))[0] for d in dirs]:
        if m not in modules:
            SConscript(m+"/SConscript")
