/**
 *  \file IMP/container/InContainerSingletonFilter.h
 *  \brief A filter for Singletons.
 *
 *  This file is generated by a script (core/tools/make-containers).
 *  Do not edit directly.
 *
 *  Copyright 2007-2012 Sali Lab. All rights reserved.
 */

#ifndef IMPCONTAINER_IN_CONTAINER_SINGLETON_FILTER_H
#define IMPCONTAINER_IN_CONTAINER_SINGLETON_FILTER_H

#include "container_config.h"
#include <IMP/SingletonPredicate.h>
#include <IMP/SingletonContainer.h>
#include <IMP/internal/container_helpers.h>
#include <IMP/singleton_macros.h>
#include <IMP/base/warning_macros.h>

IMPCONTAINER_BEGIN_NAMESPACE


//! A filter which returns true if a container containers the Singleton
/** This predicate returns 1 if the passed tuple is in the container.
    \note Only the exact tuple, not permutations of it are searched for. For
    example, this means that if (0,1) is in the container, but not (1,0),
    the pair (1,0) will NOT be filtered.

 */
class IMPCONTAINEREXPORT InContainerSingletonFilter :
    public SingletonPredicate
{
  IMP::base::OwnerPointer<SingletonContainer> c_;
public:
  InContainerSingletonFilter(SingletonContainer *c,
                             std::string name="SingletonFilter %1%");

  IMP_INDEX_SINGLETON_PREDICATE(InContainerSingletonFilter,{
      IMP_UNUSED(m);
      return c_->get_contains_index(pi);
    });
};


IMP_OBJECTS(InContainerSingletonFilter, InContainerSingletonFilters);

IMPCONTAINER_END_NAMESPACE

#endif  /* IMPCONTAINER_IN_CONTAINER_SINGLETON_FILTER_H */
